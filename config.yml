backend:
  repo: HyperKids/brown-orchestra-blog
  name: github
  branch: master
publish_mode: editorial_workflow
media_folder: "images/uploads"
public_folder: "images/uploads"
collections:
  - name: "news"
    label: "News"
    folder: "posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Author", name: "author", widget: "relation", collection: "authors", value_field: "uid", search_fields: ["name", "uid"]}
      - {label: "Topic", name: "topic", widget: "string"}
      - {label: "Publish Date", name: "date", widget: "datetime"}
      - label: "Image"
        name: "image"
        widget: "object"
        fields:
        - {label: "Cover Image", name: "url", widget: "image", required: false}
        - {label: "Image Caption", name: "caption", widget: "string", required: false}
        - {label: "Image Attribution", name: "attr", widget: "string", required: false}
      - {label: "Body", name: "body", widget: "markdown"}
  - name: "authors"
    label: "Authors"
    folder: "authors"
    create: true
    slug: "{{name}}"
    fields:
      - {label: "Full Name", name: "name", widget: "string"}
      - {label: "Unique ID", name: "uid", widget: "string", description: "Format this field as firstlast1 (eg. for Isaac Kim, format as isaackim1). If firstlast1 already exists, just increment the last number by one (eg. firstlast2)."}
      - {label: "Email", name: "email", widget: "string"}
      - {label: "Brown Directory UUID", name: "browndirectory", widget: "string", description: "Go to https://directory.brown.edu, search for yourself, click the permalink in your entry, and retrieve the string in the URL. Should look like 2a9cde89-1107-49ea-b0d1-26a35657a1f9."}
      - {label: "Avatar", name: "avatar", widget: "image", required: false}
      - label: "Bios"
        name: "bio"
        widget: "object"
        fields:
        - {label: "Biography (Short)", name: "short", widget: "string", required: false}
        - {label: "Biography (Long)", name: "long", widget: "string", required: false}